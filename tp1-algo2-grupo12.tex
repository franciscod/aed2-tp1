\documentclass[10pt, a4paper]{article}
\usepackage[paper=a4paper, left=1.5cm, right=1.5cm, bottom=1.5cm, top=3.5cm]{geometry}
\usepackage[latin1]{inputenc}
\usepackage[spanish]{babel}
\usepackage[T1]{fontenc}
\usepackage{indentfirst}
\usepackage{fancyhdr}
\usepackage{latexsym}
\usepackage{lastpage}
\usepackage{aed2-symb,aed2-itef,aed2-tad,caratula}
\usepackage[colorlinks=true, linkcolor=blue]{hyperref}
\usepackage{calc}

\newcommand{\f}[1]{\text{#1}}
\renewcommand{\paratodo}[2]{$\forall~#2$: #1}

\sloppy



\hypersetup{%
 % Para que el PDF se abra a página completa.
 pdfstartview= {FitH \hypercalcbp{\paperheight-\topmargin-1in-\headheight}},
 pdfauthor={Cátedra de Algoritmos y Estructuras de Datos II - DC - UBA},
 pdfkeywords={TADs básicos},
 pdfsubject={Tipos abstractos de datos básicos}
}

\parskip=5pt % 10pt es el tamaño de fuente

% Pongo en 0 la distancia extra entre ítemes.
\let\olditemize\itemize
\def\itemize{\olditemize\itemsep=0pt}

% Acomodo fancyhdr.
\pagestyle{fancy}
\thispagestyle{fancy}
\addtolength{\headheight}{1pt}
\lhead{Algoritmos y Estructuras de Datos II}
\rhead{$1^{\mathrm{er}}$ cuatrimestre de 2012}
\cfoot{\thepage /\pageref{LastPage}}
\renewcommand{\footrulewidth}{0.4pt}

% Encabezado
\lhead{Algoritmos y Estructuras de Datos I}
\rhead{Grupo 12}
% Pie de pagina
\renewcommand{\footrulewidth}{0.4pt}
\lfoot{Facultad de Ciencias Exactas y Naturales}
\rfoot{Universidad de Buenos Aires}

\begin{document}

% Datos de caratula
\materia{Algoritmos y Estructuras de Datos II}
\titulo{Trabajo Pr\'actico I}
%\subtitulo{}
\grupo{Grupo: 12}

\integrante{Demartino, Francisco}{348/14}{demartino.francisco@gmail.com}
\integrante{Paz, Maximiliano Le\'on}{251/14}{m4xileon@gmail.com}
\integrante{Mena, Manuel}{313/14}{manuelmena1993@gmail.com}
\integrante{Pondal, Iv\'an}{078/14}{ivan.pondal@gmail.com}

\maketitle

\newpage

% Para crear un indice
%\tableofcontents

% Forzar salto de pagina
\clearpage

% Pueden modularizar el documento incluyendo otros .tex
% \include{observaciones}

% \section{Observaciones}
%
% 	\begin{enumerate}
% 		\item un item
% 		\item otro item
% 	\end{enumerate}

% Otro salto de pagina
% \newpage

% kudos al que logra mandar cada tad a un archivo y traerlo con un include

	\begin{tad}{\tadNombre{DCNet}}
		\tadGeneros{dcNet}
		\tadIgualdadObservacional{d}{d'}{dcNet}{$ (topo(d) \igobs topo(d')) \land 
			((\forall p: pc)(p \in pcs(topo(d)) \land p \in pcs(topo(d')) \impluego (bufer(d,p) \igobs bufer(d',p) \land paquetesMandados(d,p) \igobs paquetesMandados(d',p) ) 
			\land ((\forall p: paquetes)
			((\exists  c: pc )(c \in pcs(topo(d') \land  c \in pcs(topo(d') ) \yluego(p \in buffer(d,c) \land p \in bufer(d',c) ) )
			\impluego( recorridoPaquete(d,p) \igobs recorridoPaquete(d',p) ) ) $}
		\tadGeneradores
		\tadOperacion{crearRed}{topo}{dcNet}{}
		\tadOperacion{seg}{dcNet}{dcNet}{}
		\tadOperacion{mandarPaquete}{dcNet/dcn,pc/p1,pc/p2,paquete}{dcNet}
		{($p_1$ $\in$ pcs(topo($dcn$)) $\land$  $p_2$ $\in$ pcs(topo($dcn$))) $\yluego$ \\ conectadas?(topo($dcn$) , $p_1$ , $p_2$)}

		\tadObservadores
		\tadOperacion{recorridoPaquete}{dcNet/dcn,paquete/p}{secu((ip,interface)))}{$(\exists  c: pc )(c \in pcs(topo(dcn)) \yluego (p \in buffer(dcn,c))$}
		\tadOperacion{bufer}{dcNet/dcn,pc/p}{conj(paquete)}{$p$ $\in$ pcs(topo($dcn$))} 
		\tadOperacion{paquetesMandados}{dcNet/dcn,pc/p}{nat}{$p$ $\in$ pcs(topo($dcn$))} 

		\tadOperacion{topo}{dcNet}{topologia}{}

		\tadOtrasOperaciones
		\tadOperacion{paqueteEnTransito?}{dcNet,paquete}{bool}{}
		\tadOperacion{maxPaquetesMandados}{dcNet}{pc}{}
		\tadAxiomas[\paratodo{paquete}{p,p'},\paratodo{pc}{c,c'},\paratodo{dcNet}{dcn},\paratodo{topologia}{t}]

		\tadAxioma{topo(crearRed(t))}{t}
		\tadAxioma{topo(seg(dcn))}{topo(dcn)}
		\tadAxioma{topo(mandarPaquete(dcn,c,c',p))}{topo(dcn)}

		\tadAxioma{paquetesMandados(crearRed(t))}{0}
		\tadAxioma{paquetesMandados(seg(dcn))}{paquetesMandados(dcn)}
		\tadAxioma{paquetesMandados(mandarPaquete(dcn,o,d,p),c)}{\IF\ $c = o$ THEN $paquetesMandados(dcn,c) + 1$ ELSE $paquetesMandados(dcn,c)$ FI}



	\end{tad}
	\newpage

\begin{tadx}{\tadNombre{Topolog\'ia}}{
	\noindent Este TAD modela el grafo de compus, interfaces y conexiones.
	Al agregar una compu a la topologia, se define cuantas interfaces tienes,
	y considera que estan numeradas de 1 a k (siendo k la cantidad de interfaces).
    Adem\'as, se asume que no van a agregarse compus diferentes con misma ip.
}

	\tadAlinearFunciones{conectarCompus}{topo, nat/ipA, nat/ifA, nat/ipB, nat/ifB}
	\tadGeneros{topologia}
	\tadObservadores
	\tadOperacion{compus}{topo}{conj(nat)}{}
	\tadOperacion{\#interfaces}{topo/t, nat/ip}{nat}{$ip \in compus(t)$}
	\tadOperacion{vecinos}{topo/t, nat/ip}{conj(nat)}{$ip \in compus(t)$}

	\tadGeneradores
	\tadOperacion{nuevaTopo}{}{topo}{}
	\tadOperacion{agregarCompu}{topo, nat, nat}{topo}{}
	\tadOperacion{conectarCompus}{topo, nat, nat, nat, nat}{topo}{}

	% \tadOperacion{darRutas}{nat/ipA, nat/ipB}{}

	%\tadOtrasOperaciones
	%\tadOperacion{compusConectadas}{topo, nat/ip}{conj(nat)}{}
	%\tadOperacion{compusConectadas'}{topo, conj(nat)}{conj(nat)}{}

	\tadAxiomas[\paratodo{topo}{t}, \paratodo{nat}{ipAg, ipBus, n, ipA, ipB, ifA, ifB}]
	\tadAlinearAxiomas{\#interfaces(conectarCompus($t$, $ipA$, $ifA$, $ipB$, $ifB$), $ipBus$)}

	\tadAxioma{compus(nuevaTopo)}{$\emptyset$}
	\tadAxioma{compus(agregarCompu($t$, $ipAg$, $n$))}{Ag($ipAg$, compus($t$))}
	\tadAxioma{compus(conectarCompus($t$, $ipA$, $ifA$, $ipB$, $ifB$))}{compus($t$)}

	\tadAxioma{\#interfaces(agregarCompu($t$, $ipAg$, $n$), $ipBus$)}{\IF $ipAg$ == $ipBus$ THEN $n$ ELSE \#interfaces($t$, $ipBus$) FI}
	\tadAxioma{\#interfaces(conectarCompus($t$, $ipA$, $ifA$, $ipB$, $ifB$), $ipBus$)}{\#interfaces($t$, $ipBus$)}

	%\tadAxioma{vecinos($nuevaTopo$, $ip$)}{$\emptyset$}
\end{tadx}



\end{document}
