\documentclass[10pt, a4paper, spanish]{article}
\usepackage[paper=a4paper, left=1.5cm, right=1.5cm, bottom=1.5cm, top=3.5cm]{geometry}
\usepackage[spanish]{babel}
\selectlanguage{spanish}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{indentfirst}
\usepackage{fancyhdr}
\usepackage{latexsym}
\usepackage{lastpage}
\usepackage{aed2-symb,aed2-itef,aed2-tad,caratula}
\usepackage[colorlinks=true, linkcolor=blue]{hyperref}
\usepackage{calc}

\newcommand{\f}[1]{\text{#1}}
\renewcommand{\paratodo}[2]{$\forall~#2$: #1}

\sloppy



\hypersetup{%
 % Para que el PDF se abra a página completa.
 pdfstartview= {FitH \hypercalcbp{\paperheight-\topmargin-1in-\headheight}},
 pdfauthor={Grupo 12 - 1c2015 - Algoritmos y Estructuras de Datos II - DC - UBA},
 pdfsubject={TP1}
}

\parskip=5pt % 10pt es el tamaño de fuente

% Pongo en 0 la distancia extra entre ítemes.
\let\olditemize\itemize
\def\itemize{\olditemize\itemsep=0pt}

% Acomodo fancyhdr.
\pagestyle{fancy}
\thispagestyle{fancy}
\addtolength{\headheight}{1pt}
\lhead{Algoritmos y Estructuras de Datos II}
\rhead{$1^{\mathrm{er}}$ cuatrimestre de 2015}
\cfoot{\thepage /\pageref{LastPage}}
\renewcommand{\footrulewidth}{0.4pt}

% Encabezado
\lhead{Algoritmos y Estructuras de Datos II}
\rhead{Grupo 12}
% Pie de pagina
\renewcommand{\footrulewidth}{0.4pt}
\lfoot{Facultad de Ciencias Exactas y Naturales}
\rfoot{Universidad de Buenos Aires}

\begin{document}

% Datos de caratula
\materia{Algoritmos y Estructuras de Datos II}
\titulo{Trabajo Práctico I}
%\subtitulo{}
\grupo{Grupo: 12}

\integrante{Demartino, Francisco}{348/14}{demartino.francisco@gmail.com}
\integrante{Paz, Maximiliano León}{251/14}{m4xileon@gmail.com}
\integrante{Mena, Manuel}{313/14}{manuelmena1993@gmail.com}
\integrante{Pondal, Iván}{078/14}{ivan.pondal@gmail.com}

\maketitle
\newpage

% Para crear un indice
%\tableofcontents

% Forzar salto de pagina
\clearpage

% Pueden modularizar el documento incluyendo otros .tex
% \include{observaciones}

% \section{Observaciones}
%
% 	\begin{enumerate}
% 		\item un item
% 		\item otro item
% 	\end{enumerate}

% Otro salto de pagina
% \newpage

% kudos al que logra mandar cada tad a un archivo y traerlo con un include

	\begin{tad}{\tadNombre{DCNet}}
		\tadGeneros{dcNet}
		\tadIgualdadObservacional{d}{d'}{dcNet}{$ (topo(d) \igobs topo(d')) \land 
			((\forall p: pc)(p \in pcs(topo(d)) \land p \in pcs(topo(d')) \impluego (bufer(d,p) \igobs bufer(d',p) \land paquetesMandados(d,p) \igobs paquetesMandados(d',p) ) 
			\land ((\forall p: paquetes)
			((\exists  c: pc )(c \in pcs(topo(d') \land  c \in pcs(topo(d') ) \yluego(p \in buffer(d,c) \land p \in bufer(d',c) ) )
			\impluego( recorridoPaquete(d,p) \igobs recorridoPaquete(d',p) ) ) $}
		\tadGeneradores
		\tadOperacion{crearRed}{topo}{dcNet}{}
		\tadOperacion{seg}{dcNet}{dcNet}{}
		\tadOperacion{mandarPaquete}{dcNet/dcn,pc/p1,pc/p2,paquete}{dcNet}
		{($p_1$ $\in$ pcs(topo($dcn$)) $\land$  $p_2$ $\in$ pcs(topo($dcn$))) $\yluego$ \\ conectadas?(topo($dcn$) , $p_1$ , $p_2$)}

		\tadObservadores
		\tadOperacion{recorridoPaquete}{dcNet/dcn,paquete/p}{secu((ip,interface)))}{$(\exists  c: pc )(c \in pcs(topo(dcn)) \yluego (p \in buffer(dcn,c))$}
		\tadOperacion{bufer}{dcNet/dcn,pc/p}{conj(paquete)}{$p$ $\in$ pcs(topo($dcn$))} 
		\tadOperacion{paquetesMandados}{dcNet/dcn,pc/p}{nat}{$p$ $\in$ pcs(topo($dcn$))} 

		\tadOperacion{topo}{dcNet}{topologia}{}

		\tadOtrasOperaciones
		\tadOperacion{paqueteEnTransito?}{dcNet,paquete}{bool}{}
		\tadOperacion{maxPaquetesMandados}{dcNet}{pc}{}
		\tadAxiomas[\paratodo{paquete}{p,p'},\paratodo{pc}{c,c'},\paratodo{dcNet}{dcn},\paratodo{topologia}{t}]

		\tadAxioma{topo(crearRed(t))}{t}
		\tadAxioma{topo(seg(dcn))}{topo(dcn)}
		\tadAxioma{topo(mandarPaquete(dcn,c,c',p))}{topo(dcn)}

		\tadAxioma{paquetesMandados(crearRed(t))}{0}
		\tadAxioma{paquetesMandados(seg(dcn))}{paquetesMandados(dcn)}
		\tadAxioma{paquetesMandados(mandarPaquete(dcn,o,d,p),c)}{\IF\ $c = o$ THEN $paquetesMandados(dcn,c) + 1$ ELSE $paquetesMandados(dcn,c)$ FI}



	\end{tad}
	\newpage

\begin{tadx}{\tadNombre{Topología}}{
	\noindent Este TAD modela cómo se conectan las computadoras. Las IP son únicas entre compus de la topología. ¿Interfaces? ¿Qué es eso?
}

	\tadAlinearFunciones{todasLasConectadas}{topo/t, nat/ipA, nat/ipB}{bool}

	\tadGeneradores
	\tadOperacion{NuevaTopo}{}{topo}{}
	\tadOperacion{Compu}{topo, nat}{topo}{}
	\tadOperacion{Vecina}{topo, nat, nat}{topo}{}

	\tadObservadores
	\tadOperacion{compus}{topo}{conj(nat)}{}
	\tadOperacion{vecinas}{topo/t, nat/ip}{conj(nat)}{$ip \in compus(t)$}

	\tadOtrasOperaciones
	\tadOperacion{conectadas?}{topo/t, nat/ipA, nat/ipB}{bool}{$ipA \in compus(t) $ $\land$ $ipB \in compus(t)$}
	\tadOperacion{todasLasConectadas}{topo/t, nat/ip}{conj(nat)}{$ip \in compus(t)$}
	\tadOperacion{expandirFull}{topo/t, conj(nat)/cs}{conj(nat)}{$cs \subseteq compus(t)$}
	\tadOperacion{exp1}{topo/t, conj(nat)/cs}{conj(nat)}{$cs \subseteq compus(t)$}

	\tadAxiomas[\paratodo{topo}{t}, \paratodo{nat}{ip, ipBus, ipA, ipB}]
	\tadAlinearAxiomas{vecinas(Vecina($t$, $ipA$, $ipB$), $ipBus$)}

	\tadAxioma{compus(NuevaTopo)}{$\emptyset$}
	\tadAxioma{compus(Compu($t$, $ip$))}{Ag($ip$, compus($t$))}
	\tadAxioma{compus(Vecina($t$, $ipA$, $ipB$))}{compus($t$)}

	\tadAxioma{vecinas(NuevaTopo, $ipBus$)}{$\emptyset$}
	\tadAxioma{vecinas(Compu($t$, $ip$), $ipBus$)}{vecinas($t$, $ipBus$)}
	\tadAxioma{vecinas(Vecina($t$, $ipA$, $ipB$), $ipBus$)}{
		\IF $ipBus$ $\in$ Ag($ipA$, Ag($ipB$, $\emptyset$)) THEN
			Ag($ipA$, Ag($ipB$, $\emptyset$)) - \{$ipBus$\}
		ELSE
			$\emptyset$
		FI $\cup$ vecinas($t$, $ipBus$)
	}

	\tadAxioma{todasLasConectadas($t$, $ip$)}{expandirFull($t$, Ag($ip$, $\emptyset$))}

	\tadAxioma{expandirFull($t$, $cs$)}{
		\IF exp1($t$, $cs$) $\subseteq$ $cs$ THEN
			$cs$
		ELSE
			expandirFull($t$, exp1($t$, $cs$))
		FI
	}

	\tadAxioma{exp1($t$, $cs$)}{
		\IF $\emptyset$?($cs$) THEN
			$\emptyset$
		ELSE
			Ag(dameUno($cs$), vecinas($t$, dameUno($cs$))) $\cup$ exp1($t$, sinUno($cs$))
		FI
	}




\end{tadx}



\end{document}
